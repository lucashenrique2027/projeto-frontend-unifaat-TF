import{j as e}from"./app.js";import{r as t}from"./index.js";import{b as u,c as h}from"./catchError.js";async function x(n,r){try{const a=new URLSearchParams({email:n,password:r}),{data:l}=await u.post("login",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return l}catch(a){return h(a)}}function g(){const[n,r]=t.useState(!1),[a,l]=t.useState(""),[o,c]=t.useState("");t.useEffect(()=>()=>{},[a]);const i=async s=>{if(s.preventDefault(),r(!1),"error"in await x(a,o)){r(!0);return}location.reload()},d=s=>{l(s.currentTarget.value)},m=s=>{c(s.currentTarget.value)};return console.log("render"),e.jsx("div",{className:"container py-5",children:e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs("div",{id:"form-login",className:"bg-white shadow-sm",children:[e.jsx("h2",{className:"h4 text-center mb-3",children:"Entrar"}),e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"E-mail"}),e.jsx("input",{onChange:d,value:a,type:"email",className:"form-control"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Senha"}),e.jsx("input",{onChange:m,value:o,type:"password",className:"form-control"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Entrar"}),n&&e.jsx("div",{className:"card border-0 rounded-4 mt-3",children:e.jsx("div",{className:"card-body py-3 bg-danger-subtle text-danger-emphasis rounded-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"me-2","aria-hidden":"true",children:"⚠️"}),e.jsx("strong",{className:"me-1",children:"Login inválido."})]})})})]})]})})})}export{g as default};
