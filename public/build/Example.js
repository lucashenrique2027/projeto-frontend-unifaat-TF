import{j as t}from"./app.js";import{r as a}from"./index.js";import{p as f,P as x,a as j}from"./ProductCreateForm.js";import"./catchError.js";function m({children:o,onClick:n,classList:s=""}){const i=l=>{n==null||n()},c=["btn","btn-primary","btn-lg","px-4",s];return t.jsx("button",{className:c.join(" "),onClick:i,children:o})}function p(){const[o,n]=a.useState(0),s=a.useRef(null);a.useEffect(()=>{var e;(e=s.current)==null||e.select()},[]);const i=()=>{setTimeout(()=>{var e;(e=s.current)==null||e.select()},0),n(e=>++e)},c=()=>{setTimeout(()=>{var e;(e=s.current)==null||e.select()},0),n(e=>e===0?e:--e)},l=e=>{const r=e.target.value.replace(/[^\d]/g,""),u=Number(r||"0");n(u)};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"container d-flex justify-content-center my-4",children:t.jsx("div",{className:"d-flex align-items-center",children:t.jsxs("div",{className:"btn-group",role:"group",children:[t.jsx(m,{onClick:c,classList:"bg-danger",children:t.jsx("i",{className:"fa-solid fa-minus"})}),t.jsx("input",{type:"text",ref:s,className:"form-control form-control-lg text-center",value:o,onChange:l}),t.jsx(m,{onClick:i,children:t.jsx("i",{className:"fa-solid fa-plus"})})]})})})})}function b(){const[o,n]=a.useState(),[s,i]=a.useState("Counter");a.useEffect(()=>{s!=="Counter"&&c()},[s]);const c=async()=>{const r=await f(10);if("error"in r)return n("error");n(r.rows)},l=()=>{c()},e=()=>{c()},d=s==="Counter"?t.jsx("div",{className:"row g-4 justify-content-center align-items-center min-vh-50",children:t.jsx("div",{className:"col-auto d-flex justify-content-center align-items-center",children:t.jsx(p,{})})}):t.jsxs("div",{className:"row g-4",children:[t.jsx(x,{onCreate:l}),t.jsx(j,{products:o,onDelete:e})]});return console.log(d),t.jsxs("div",{className:"row g-4",children:[t.jsx("ul",{className:"nav nav-tabs mb-4 justify-content-center",children:["Counter","List Products"].map(r=>{const u=["nav-link"];return s===r&&u.push("active"),t.jsx("li",{className:"nav-item",children:t.jsx("button",{className:u.join(" "),onClick:()=>i(r),children:r})},r)})}),d]})}export{b as default};
